# FunÃ§Ãµes: Modularizando seu script como um Chef ğŸ‘¨â€ğŸ³ğŸ§‘â€ğŸ³

Imagina que vocÃª estÃ¡ cozinhando um banquete e tem que preparar vÃ¡rios pratos ao mesmo tempo. Se tivesse que repetir todo o processo do zero para cada prato, seria caÃ³tico! ğŸ˜µ No mundo do Shell Script, **funÃ§Ãµes** sÃ£o como receitas de pratos: vocÃª prepara uma vez e pode reutilizar sempre que precisar. Vamos aprender a modularizar seu script com funÃ§Ãµes para tornar tudo mais organizado e eficiente!

## O Que SÃ£o FunÃ§Ãµes? ğŸ¤”

Uma **funÃ§Ã£o** Ã© um bloco de cÃ³digo que pode ser chamado quantas vezes vocÃª quiser, em qualquer parte do script. Pense nela como uma "mini-fÃ¡brica" ğŸ­ que realiza uma tarefa especÃ­fica. VocÃª escreve uma vez e depois usa em vÃ¡rios lugares, economizando tempo e evitando repetiÃ§Ã£o de cÃ³digo.

### Por Que Usar FunÃ§Ãµes?

1. **ReutilizaÃ§Ã£o**: Escreva uma vez, use vÃ¡rias vezes! ğŸ”„
2. **OrganizaÃ§Ã£o**: Deixe seu cÃ³digo mais limpo e fÃ¡cil de entender. ğŸ§¹
3. **ManutenÃ§Ã£o**: Se algo mudar, vocÃª sÃ³ precisa alterar a funÃ§Ã£o uma vez. ğŸ”§

---

## Como Definir FunÃ§Ãµes ğŸ”§

A sintaxe para criar funÃ§Ãµes no Shell Script Ã© super simples:

```bash
nome_da_funcao() {
    # Comandos da funÃ§Ã£o
}
```

E para **chamar** uma funÃ§Ã£o, basta usar o nome dela:

```bash
nome_da_funcao
```

### Exemplo BÃ¡sico: SaudaÃ§Ã£o ğŸ‘‹

```bash
#!/bin/bash

# Definindo a funÃ§Ã£o
saudacao() {
    echo "OlÃ¡, $1! Bem-vindo ao nosso script!"
}

# Chamando a funÃ§Ã£o
saudacao "Victor"
```

SaÃ­da:

```
OlÃ¡, Victor! Bem-vindo ao nosso script!
```

No exemplo acima, passamos "Victor" como **parÃ¢metro** para a funÃ§Ã£o, usando `$1` para acessar esse valor dentro da funÃ§Ã£o.

---

## Passando ParÃ¢metros para FunÃ§Ãµes ğŸ“¦

As funÃ§Ãµes podem aceitar **parÃ¢metros** como entrada, assim como comandos no terminal. Esses parÃ¢metros sÃ£o acessados por meio de variÃ¡veis posicionais:

- `$1`, `$2`, ..., `$n`: Referenciam os parÃ¢metros na ordem que foram passados.
- `$@`: Todos os parÃ¢metros.
- `$#`: NÃºmero de parÃ¢metros.

### Exemplo com ParÃ¢metros: Calculadora ğŸ”¢

```bash
#!/bin/bash

# FunÃ§Ã£o para somar dois nÃºmeros
somar() {
    resultado=$(($1 + $2))
    echo "A soma de $1 e $2 Ã©: $resultado"
}

# Chamando a funÃ§Ã£o com dois parÃ¢metros
somar 5 3
```

SaÃ­da:

```
A soma de 5 e 3 Ã©: 8
```

---

## FunÃ§Ãµes com Retorno ğŸ“¤

No Shell Script, vocÃª pode retornar um **cÃ³digo de status** usando o comando `return`. O cÃ³digo de status Ã© um nÃºmero que representa se a funÃ§Ã£o foi bem-sucedida ou se houve algum erro (0 para sucesso, diferente de 0 para erro).

### Exemplo: FunÃ§Ã£o com Retorno de Status âœ…âŒ

```bash
#!/bin/bash

# FunÃ§Ã£o para verificar se um nÃºmero Ã© par ou Ã­mpar
eh_par() {
    if [ $(($1 % 2)) -eq 0 ]; then
        return 0  # Sucesso (nÃºmero par)
    else
        return 1  # Erro (nÃºmero Ã­mpar)
    fi
}

# Chamando a funÃ§Ã£o
eh_par 4

if [ $? -eq 0 ]; then
    echo "O nÃºmero Ã© par!"
else
    echo "O nÃºmero Ã© Ã­mpar!"
fi
```

SaÃ­da:

```
O nÃºmero Ã© par!
```

---

## FunÃ§Ãµes com SaÃ­da ğŸ“œ

Embora `return` seja usado para cÃ³digos de status, o **output real** (dados de saÃ­da) de uma funÃ§Ã£o geralmente Ã© feito usando `echo` ou `printf`. Assim, vocÃª pode capturar e usar esse valor em outras partes do script.

### Exemplo: FunÃ§Ã£o que Retorna a SaÃ­da ğŸ“¦

```bash
#!/bin/bash

# FunÃ§Ã£o que retorna a multiplicaÃ§Ã£o de dois nÃºmeros
multiplicar() {
    echo $(($1 * $2))
}

# Capturando a saÃ­da da funÃ§Ã£o
resultado=$(multiplicar 6 7)
echo "O resultado da multiplicaÃ§Ã£o Ã©: $resultado"
```

SaÃ­da:

```
O resultado da multiplicaÃ§Ã£o Ã©: 42
```

---

## FunÃ§Ãµes Recursivas: Aventura de Chamar a Si Mesma ğŸ”„â™¾ï¸

Uma funÃ§Ã£o pode se chamar novamente â€” isso Ã© chamado de **recursÃ£o**. Vamos usar isso para calcular o **fatorial** de um nÃºmero.

### Exemplo: Fatorial Usando RecursÃ£o ğŸ§®

```bash
#!/bin/bash

# FunÃ§Ã£o para calcular o fatorial
fatorial() {
    if [ "$1" -le 1 ]; then
        echo 1
    else
        anterior=$(fatorial $(($1 - 1)))
        echo $(($1 * $anterior))
    fi
}

# Chamando a funÃ§Ã£o
resultado=$(fatorial 5)
echo "O fatorial de 5 Ã©: $resultado"
```

SaÃ­da:

```
O fatorial de 5 Ã©: 120
```

---

## FunÃ§Ãµes em Blocos de Script ğŸ”„

VocÃª pode definir todas as suas funÃ§Ãµes no inÃ­cio do script, tornando seu cÃ³digo mais organizado e fÃ¡cil de manter. Depois, basta chamÃ¡-las conforme necessÃ¡rio.

### Exemplo Completo: Menu de FunÃ§Ãµes ğŸ“ğŸ½ï¸

```bash
#!/bin/bash

# FunÃ§Ã£o de saudaÃ§Ã£o
saudacao() {
    echo "OlÃ¡, $1! Seja bem-vindo!"
}

# FunÃ§Ã£o para exibir a data
mostrar_data() {
    echo "A data atual Ã©: $(date)"
}

# FunÃ§Ã£o para exibir o uso de disco
mostrar_disco() {
    echo "Uso de disco:"
    df -h
}

# Menu
echo "Escolha uma opÃ§Ã£o:"
echo "1 - SaudaÃ§Ã£o"
echo "2 - Exibir data"
echo "3 - Exibir uso de disco"
read opcao

case "$opcao" in
    1)
        saudacao "Victor"
        ;;
    2)
        mostrar_data
        ;;
    3)
        mostrar_disco
        ;;
    *)
        echo "OpÃ§Ã£o invÃ¡lida!"
        ;;
esac
```

---

## Analogias do Dia a Dia ğŸ³ğŸ‘¨â€ğŸ³

Pense nas funÃ§Ãµes como **receitas** de um chef. Uma vez que vocÃª tem a receita pronta, vocÃª pode cozinhar o prato quantas vezes quiser. E se precisar fazer uma pequena alteraÃ§Ã£o, basta atualizar a receita uma vez, e todas as refeiÃ§Ãµes futuras jÃ¡ estarÃ£o ajustadas! ğŸ²ğŸ½ï¸

FunÃ§Ãµes no Shell Script sÃ£o a mesma coisa: elas evitam a repetiÃ§Ã£o de cÃ³digo, facilitam a manutenÃ§Ã£o e tornam seu script mais modular e organizado. ğŸ“¦

---

## ConclusÃ£o ğŸ‰

FunÃ§Ãµes sÃ£o uma ferramenta poderosa para deixar seus scripts mais organizados, reutilizÃ¡veis e fÃ¡ceis de manter. Com elas, vocÃª pode modularizar seu cÃ³digo, criar operaÃ§Ãµes complexas e tornar seu script muito mais eficiente. Agora que vocÃª aprendeu a usar funÃ§Ãµes, pode criar verdadeiras "fÃ¡bricas de tarefas" no seu cÃ³digo! ğŸ­ğŸš€