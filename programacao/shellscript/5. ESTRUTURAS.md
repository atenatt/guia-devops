# Estruturas de Controle: Controlando o fluxo do seu script ğŸ®ğŸ”„

Agora que vocÃª jÃ¡ sabe realizar cÃ¡lculos e comparaÃ§Ãµes, Ã© hora de aprender a **controlar o fluxo** do seu script Shell! ğŸ§­ Com as estruturas de controle, vocÃª pode tomar decisÃµes, repetir tarefas e deixar seus scripts muito mais inteligentes e eficientes. Vamos juntos explorar essas ferramentas!

## O Que SÃ£o Estruturas de Controle? ğŸ¤”

Estruturas de controle sÃ£o comandos que permitem alterar o fluxo de execuÃ§Ã£o de um script. Basicamente, elas decidem **o que fazer** e **quando fazer** algo, dependendo de condiÃ§Ãµes especÃ­ficas.

### Tipos de Estruturas de Controle:

1. **Condicionais (`if`, `else`, `elif`)** ğŸ”
2. **Switch (`case`)** ğŸ”„
3. **Loops (`for`, `while`, `until`)** ğŸ”

---

## 1. Estruturas Condicionais: Tomando DecisÃµes ğŸ”ğŸ¤”

As estruturas condicionais permitem que seu script **tome decisÃµes** com base em condiÃ§Ãµes especÃ­ficas. Dependendo do resultado de uma expressÃ£o, o script pode seguir por caminhos diferentes.

### Sintaxe BÃ¡sica do `if`

```bash
if [ condiÃ§Ã£o ]; then
    # Comandos se a condiÃ§Ã£o for verdadeira
else
    # Comandos se a condiÃ§Ã£o for falsa
fi
```

#### Exemplo: Checar Se Um Arquivo Existe ğŸ“‚

```bash
#!/bin/bash

arquivo="meu_arquivo.txt"

if [ -f "$arquivo" ]; then
    echo "O arquivo $arquivo existe!"
else
    echo "O arquivo $arquivo nÃ£o existe!"
fi
```

### O `elif`: MÃºltiplas CondiÃ§Ãµes ğŸ›£ï¸

Se vocÃª precisar verificar vÃ¡rias condiÃ§Ãµes, pode usar o `elif` (else if).

```bash
#!/bin/bash

nota=85

if [ "$nota" -ge 90 ]; then
    echo "VocÃª tirou um A!"
elif [ "$nota" -ge 80 ]; then
    echo "VocÃª tirou um B!"
else
    echo "VocÃª precisa melhorar!"
fi
```

### Operadores LÃ³gicos em Condicionais ğŸ§ 

VocÃª pode combinar condiÃ§Ãµes usando os operadores lÃ³gicos `&&` (E) e `||` (OU).

```bash
#!/bin/bash

idade=20

if [ "$idade" -ge 18 ] && [ "$idade" -lt 65 ]; then
    echo "VocÃª Ã© adulto!"
else
    echo "VocÃª Ã© menor de idade ou idoso!"
fi
```

---

## 2. Switch (`case`): Simplificando VÃ¡rias OpÃ§Ãµes ğŸ”„

O comando `case` Ã© Ã³timo para quando vocÃª tem muitas opÃ§Ãµes e quer evitar o uso repetido de `if...elif...else`. Ele funciona como um "menu de escolhas".

### Sintaxe do `case`

```bash
case "$variavel" in
    valor1)
        # Comandos para valor1
        ;;
    valor2)
        # Comandos para valor2
        ;;
    *)
        # Comandos para qualquer outro valor (opcional)
        ;;
esac
```

#### Exemplo: Menu de OpÃ§Ãµes ğŸ§‘â€ğŸ’»ğŸ½ï¸

```bash
#!/bin/bash

echo "Escolha uma opÃ§Ã£o:"
echo "1 - Exibir data"
echo "2 - Exibir arquivos"
echo "3 - Sair"
read opcao

case "$opcao" in
    1)
        date
        ;;
    2)
        ls
        ;;
    3)
        echo "Saindo..."
        exit 0
        ;;
    *)
        echo "OpÃ§Ã£o invÃ¡lida!"
        ;;
esac
```

---

## 3. Loops: Repetindo Tarefas ğŸ”

Loops permitem repetir uma tarefa vÃ¡rias vezes sem precisar reescrever o cÃ³digo. Eles sÃ£o extremamente Ãºteis para automaÃ§Ã£o e repetiÃ§Ã£o de processos.

### Loop `for`: Iterando sobre Itens ğŸ”‚

O loop `for` permite percorrer uma lista de valores e executar comandos para cada um deles.

#### Sintaxe do `for`

```bash
for variavel in lista; do
    # Comandos
done
```

#### Exemplo: Iterando sobre Arquivos ğŸ“

```bash
#!/bin/bash

for arquivo in *.txt; do
    echo "Processando $arquivo"
done
```

### Loop `while`: Repetindo AtÃ© Que... ğŸ”„â³

O `while` executa comandos enquanto uma condiÃ§Ã£o for verdadeira.

#### Sintaxe do `while`

```bash
while [ condiÃ§Ã£o ]; do
    # Comandos
done
```

#### Exemplo: Contador ğŸ”¢

```bash
#!/bin/bash

contador=1

while [ "$contador" -le 5 ]; do
    echo "Contagem: $contador"
    contador=$((contador + 1))
done
```

### Loop `until`: O Oposto do `while` ğŸ™ƒ

O `until` Ã© o oposto do `while`: ele repete os comandos **atÃ©** que a condiÃ§Ã£o se torne verdadeira.

#### Exemplo: Usando `until`

```bash
#!/bin/bash

contador=1

until [ "$contador" -gt 5 ]; do
    echo "Contagem: $contador"
    contador=$((contador + 1))
done
```

---

## Exemplo PrÃ¡tico: AutomaÃ§Ã£o de Backup ğŸ—‚ï¸ğŸ’¾

Vamos combinar tudo o que aprendemos atÃ© agora em um script de backup que itera sobre uma lista de diretÃ³rios e faz o backup de cada um.

```bash
#!/bin/bash

# Lista de diretÃ³rios para backup
diretorios=("/home/user/documentos" "/home/user/imagens")

# DiretÃ³rio de destino
destino="/backup"

# Verifica se o diretÃ³rio de destino existe
if [ ! -d "$destino" ]; then
    echo "Criando diretÃ³rio de backup em $destino"
    mkdir -p "$destino"
fi

# Loop para fazer o backup de cada diretÃ³rio
for dir in "${diretorios[@]}"; do
    if [ -d "$dir" ]; then
        echo "Fazendo backup de $dir..."
        cp -r "$dir" "$destino"
    else
        echo "DiretÃ³rio $dir nÃ£o existe!"
    fi
done

echo "Backup concluÃ­do!"
```

---

## Analogias do Dia a Dia ğŸ›ï¸ğŸ”„

Pense nas **estruturas de controle** como um semÃ¡foro em um cruzamento. Ele decide quando parar, seguir ou mudar de direÃ§Ã£o, dependendo das condiÃ§Ãµes (trÃ¡fego, pedestres, etc.). Sem ele, o caos tomaria conta! ğŸš¦

No Shell Script, as estruturas de controle sÃ£o o "semÃ¡foro" que mantÃ©m o fluxo do seu cÃ³digo organizado e eficiente. Elas te ajudam a decidir o que fazer em cada situaÃ§Ã£o, como executar aÃ§Ãµes repetidamente ou tomar decisÃµes inteligentes.

---

## ConclusÃ£o ğŸ‰

Com as estruturas de controle (`if`, `case`, `for`, `while`, `until`), vocÃª tem o poder de criar scripts que tomam decisÃµes e automatizam tarefas repetitivas. Essas ferramentas sÃ£o essenciais para qualquer script eficiente e inteligente. Agora vocÃª tem as chaves para controlar o fluxo do seu cÃ³digo como um verdadeiro mestre do Shell! ğŸ§™â€â™‚ï¸ğŸ”‘