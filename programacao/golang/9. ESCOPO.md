Vamos falar sobre **Escopo de VariÃ¡veis** no Go, que Ã© um conceito muito importante para garantir que seu cÃ³digo seja organizado e funcione como esperado. Pronto para entender onde suas variÃ¡veis podem â€œviverâ€ e como vocÃª pode controlÃ¡-las? ğŸ˜„

---

## Escopo de VariÃ¡veis no Go ğŸŒ

O **escopo** de uma variÃ¡vel define **onde** e **quando** essa variÃ¡vel pode ser acessada no seu cÃ³digo. Existem dois tipos principais de escopo no Go: **escopo global** e **escopo local**. Cada um tem suas peculiaridades e usos. Vamos entender melhor!

---

### 1. **Escopo Global** ğŸŒ

Uma variÃ¡vel **global** Ã© aquela que pode ser acessada por **qualquer parte do cÃ³digo**. No Go, variÃ¡veis globais sÃ£o definidas **fora de qualquer funÃ§Ã£o**, geralmente no inÃ­cio do arquivo.

#### Exemplo:
```go
var mensagem string = "OlÃ¡, mundo!"  // VariÃ¡vel global

func imprimirMensagem() {
    fmt.Println(mensagem)  // Acessando a variÃ¡vel global
}

func main() {
    imprimirMensagem()
}
```

Aqui, a variÃ¡vel `mensagem` estÃ¡ **fora de qualquer funÃ§Ã£o**, entÃ£o ela pode ser usada tanto na funÃ§Ã£o `imprimirMensagem` quanto em qualquer outra parte do cÃ³digo. Mas cuidado ao usar variÃ¡veis globais â€“ elas podem causar confusÃ£o se usadas em excesso. ğŸ˜…

---

### 2. **Escopo Local** ğŸ 

VariÃ¡veis **locais** sÃ£o aquelas que sÃ£o declaradas **dentro de funÃ§Ãµes** ou blocos de cÃ³digo. Elas sÃ³ podem ser acessadas dentro daquele espaÃ§o especÃ­fico.

#### Exemplo:
```go
func main() {
    mensagem := "OlÃ¡, local!"
    fmt.Println(mensagem)
}
```

Aqui, a variÃ¡vel `mensagem` foi declarada **dentro da funÃ§Ã£o `main`**, entÃ£o ela sÃ³ pode ser usada dentro da prÃ³pria `main`. Se vocÃª tentar acessÃ¡-la fora da funÃ§Ã£o, vai dar erro.

---

### 3. **Escopo em Blocos de CÃ³digo** ğŸ”„

AlÃ©m das funÃ§Ãµes, vocÃª tambÃ©m pode ter variÃ¡veis locais em **blocos de cÃ³digo**, como em loops `for` ou condicionais `if-else`. O escopo delas Ã© limitado ao bloco em que foram declaradas.

#### Exemplo com `for`:
```go
func main() {
    for i := 0; i < 3; i++ {
        valor := i * 2
        fmt.Println(valor)
    }
    // fmt.Println(valor)  --> Erro! Fora do escopo
}
```

Aqui, a variÃ¡vel `valor` sÃ³ existe **dentro do loop `for`**. Se vocÃª tentar acessÃ¡-la fora do `for`, o Go nÃ£o vai saber do que vocÃª estÃ¡ falando.

---

### 4. **Escopo em FunÃ§Ãµes Aninhadas** ğŸ“¦

O Go permite declarar funÃ§Ãµes dentro de outras funÃ§Ãµes, e as variÃ¡veis de uma funÃ§Ã£o â€œpaiâ€ podem ser acessadas pelas funÃ§Ãµes â€œfilhasâ€, mas o contrÃ¡rio nÃ£o Ã© permitido.

#### Exemplo:
```go
func main() {
    pai := "Eu sou o pai"

    func() {
        fmt.Println(pai)  // FunÃ§Ã£o filha acessa variÃ¡vel da funÃ§Ã£o pai
    }()
}
```

Aqui, a funÃ§Ã£o anÃ´nima pode acessar a variÃ¡vel `pai` porque ela estÃ¡ no escopo da funÃ§Ã£o `main`. Mas se fosse o contrÃ¡rio, a funÃ§Ã£o pai nÃ£o teria acesso Ã s variÃ¡veis da funÃ§Ã£o filha.

---

### 5. **Sombras de VariÃ¡veis (Shadowing)** ğŸŒ‘

**Shadowing** Ã© quando vocÃª declara uma variÃ¡vel com o **mesmo nome** de uma variÃ¡vel em um escopo maior. A variÃ¡vel de escopo mais interno "sombra" a variÃ¡vel de escopo maior.

#### Exemplo:
```go
var nome string = "Global"

func main() {
    nome := "Local"
    fmt.Println(nome)  // Vai imprimir "Local", nÃ£o "Global"
}
```

Nesse caso, a variÃ¡vel `nome` dentro da funÃ§Ã£o `main` **sombrou** a variÃ¡vel global `nome`. Ou seja, a variÃ¡vel local tem preferÃªncia e Ã© usada dentro da funÃ§Ã£o.

---

### 6. **Escopo em FunÃ§Ãµes AnÃ´nimas** ğŸ”„

FunÃ§Ãµes anÃ´nimas, como vimos anteriormente, tambÃ©m tÃªm escopo. Elas podem acessar variÃ¡veis declaradas fora delas, mas variÃ¡veis declaradas dentro da funÃ§Ã£o anÃ´nima nÃ£o podem ser acessadas de fora.

#### Exemplo:
```go
func main() {
    mensagem := "Oi, Victor!"

    func() {
        fmt.Println(mensagem)  // Acessando a variÃ¡vel 'mensagem'
    }()

    // A variÃ¡vel 'dentroAnonima' sÃ³ existe dentro da funÃ§Ã£o anÃ´nima
    func() {
        dentroAnonima := "Dentro da anÃ´nima"
        fmt.Println(dentroAnonima)
    }()

    // fmt.Println(dentroAnonima)  --> Vai dar erro se tentar acessar aqui!
}
```

Aqui, a variÃ¡vel `mensagem` pode ser acessada dentro da funÃ§Ã£o anÃ´nima, mas `dentroAnonima` sÃ³ pode ser usada dentro da funÃ§Ã£o anÃ´nima em que foi criada.

---

### Resumo ğŸ“

- **Escopo Global**: VariÃ¡veis declaradas fora de funÃ§Ãµes, acessÃ­veis de qualquer lugar.
- **Escopo Local**: VariÃ¡veis declaradas dentro de funÃ§Ãµes ou blocos de cÃ³digo, acessÃ­veis apenas dentro desses espaÃ§os.
- **Shadowing**: Quando uma variÃ¡vel local â€œsombraâ€ uma variÃ¡vel global ou de escopo maior.
- **Blocos de CÃ³digo**: VariÃ¡veis dentro de loops ou condicionais tÃªm escopo limitado ao bloco.
- **FunÃ§Ãµes AnÃ´nimas**: Podem acessar variÃ¡veis de escopos maiores, mas nÃ£o permitem que suas variÃ¡veis internas sejam acessadas de fora.

Agora que vocÃª jÃ¡ domina o escopo das variÃ¡veis no Go, estÃ¡ pronto para organizar seu cÃ³digo de forma mais eficiente e evitar confusÃµes no acesso Ã s suas variÃ¡veis! ğŸ˜

A partir de agora o go comeÃ§a a ficar mais complexo, iremos desta forma utilizar alguns exemplos do dia a dia para auxiliar na fixaÃ§Ã£o dos conceitos na sua cabeÃ§a.

---

### ğŸŒ NavegaÃ§Ã£o entre os arquivos:

- [â¬…ï¸ 8. FUNCOES.md](https://github.com/atenatt/guia-devops/blob/main/programacao/golang/7.%20CONCEITOS.md) | | [â¡ï¸ 10. ESTRUTURAS_COMPLEXAS.md](https://github.com/atenatt/guia-devops/blob/main/programacao/golang/10.%20ESTRUTURAS_COMPLEXAS.md)